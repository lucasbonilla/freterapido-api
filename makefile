.PHONY: default run build test docs clean
APP_NAME=freterapido-api

help:
	@clear
	@echo ""
	@echo "        @@@@@  @@@@@   @@@@@  @@@@@@  @@@@@    @@@@@   @@@@@@  @@@@@   @@  @@@@      @@@@     @@@@@@  @@@@@   @@"
	@echo "        @@     @@   @  @@       @@    @@       @@   @  @@  @@  @@   @  @@  @@  @@   @@  @@    @@  @@  @@   @  @@"
	@echo "        @@@@@  @@@@@   @@@@     @@    @@@@     @@@@@   @@@@@@  @@@@@   @@  @@   @@  @@  @@    @@@@@@  @@@@@   @@"
	@echo "        @@     @@ @    @@       @@    @@       @@ @    @@  @@  @@      @@  @@  @@   @@  @@    @@  @@  @@      @@"
	@echo "        @@     @@  @@  @@@@@    @@    @@@@@    @@  @@  @@  @@  @@      @@  @@@@      @@@@     @@  @@  @@      @@"
	@echo ""
	@echo "                                                 #@@@@@@@@@@|@@@@@@@@@@@"
	@echo "                                                 #@@@@@@@@@@@@@@@@@@@@@"
	@echo "                                                     (@@@@@@@@@@@@@*"
	@echo "                                                     (@@@@@@@@@@@@@*"
	@echo "                                                  *(%&@@@@@@@@@@@@@&%/*"
	@echo "                                           *#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&( *"
	@echo "                                      */&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%*"
	@echo "                                  (*%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@(* "
	@echo "                                @@@@@@@@@@@@@@@@@@&#(*           */(%@@@@@@@@@@@@@@@@&/  "
	@echo "                             **@@@@@@@@@@@@@@%/                        *(@@@@@@@@@@@@@@#* "
	@echo "                            *&@@@@@@@@@@@@/*             #@@@@%*            *%@@@@@@@@@@@@#* "
	@echo "                           #@@@@@@@@@@@#'                %@@@@&*               *&@@@@@@@@@@@/* "
	@echo "                         *@@@@@@@@@@@('                  #@@@@&*                **&@@@@@@@@@@#  "
	@echo "                        *@@@@@@@@@@%*                    %@@@@&*                   **&@@@@@@@@@&* "
	@echo "                       /@@@@@@@@@@/                      %@@@@&*                     *%@@@@@@@@@% *"
	@echo "                      *&@@@@@@@@@*                       %@@@@&*                      *%@@@@@@@@@#* "
	@echo "                      #@@@@@@@@@(*                       #@@@@&*                   **   %@@@@@@@@@* "
	@echo "                      &@@@@@@@@&/                        #@@@@&*                        /@@@@@@@@@# "
	@echo "                     *@@@@@@@@@(*                        #@@@@@@@@@@@@@@@@@@@@@@@@@%*   *@@@@@@@@@&*"
	@echo "                     *@@@@@@@@@(*                        #@@@@@@@@@@@@@@@@@@@@@@@@@@#    &@@@@@@@@@*"
	@echo "                     *@@@@@@@@@(                         /(((((((((((((((((((((((((*    *@@@@@@@@@&*"
	@echo "                      &@@@@@@@@%                                                        |@@@@@@@@@%*"
	@echo "                      #@@@@@@@@@(                                                       %@@@@@@@@@*"
	@echo "                       @@@@@@@@@@*                                                     #@@@@@@@@@#"
	@echo "                        @@@@@@@@@@/                                                   #@@@@@@@@@&*"
	@echo "                         @@@@@@@@@@#                                               **&@@@@@@@@@&*"
	@echo "                          @@@@@@@@@@@/**                                          *#@@@@@@@@@@% '"
	@echo "                           %@@@@@@@@@@@(                                        *%@@@@@@@@@@@( *"
	@echo "                             @@@@@@@@@@@@&*                                  *#@@@@@@@@@@@@%* "
	@echo "                               &@@@@@@@@@@@@@#**                         */&@@@@@@@@@@@@@%* *"
	@echo "                                *&@@@@@@@@@@@@@@@@&/**             **#&@@@@@@@@@@@@@@@@(  *"
	@echo "                                   /&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#**"
	@echo "                                      #@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&(*"
	@echo "                                          *(%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&#/"
	@echo "                                                **(#&@@@@@@@@@@@@@@@&#/**"
	@echo ""
	@echo "     - make"
	@echo "         - build: realiza o build da aplicação"
	@echo "         - env-serve: inicializa o serviço em localhost:8080"
	@echo "         - env-stop: para os containers"
	@echo "         - env-remove: remove os containers"
	@echo "         - test: realiza os testes da aplicação"
	@echo "                                                                                       By Lucas Gonçalves Bonilla"

env-serve:
	docker-compose up -d

env-stop:
	docker-compose stop

env-remove:
	docker-compose rm
	
build:
	docker build --rm -t $(APP_NAME) .

test:
	docker build -f Dockerfile.multistage -t docker-freterapido-api-test --progress plain --no-cache --target run-test-stage .